# プロダクト要求定義書 (Product Requirements Document)

## プロダクト概要

### 名称
**AI Clone Podcaster** - クローン声によるポッドキャスト作成ツール

### プロダクトコンセプト
- **自分の声でポッドキャスト**: 録音した自分の声をクローンし、テキストから自然なポッドキャスト音声を生成
- **ブラウザ完結のシンプル操作**: ローカルWebアプリとしてブラウザ上で声の管理から音声生成まで一貫して操作
- **BGM合成によるプロ品質**: TTSで生成した音声にBGMを合成し、ダウンロード可能なmp3ファイルとして出力

### プロダクトビジョン
テキストを入力するだけで、自分の声によるポッドキャストを手軽に作成できるツールを提供する。
声のクローン技術（qwen3-tts）を活用し、毎回の収録作業を不要にする。
BGM合成まで一気通貫で行い、すぐに配信可能な品質のmp3ファイルを出力する。

### 目的
- テキスト台本から自分のクローン声でポッドキャスト音声を生成する
- 声の登録・管理を簡単に行えるようにする
- BGM合成を含めた完成品としてのmp3ファイルを出力する

## ターゲットユーザー

### プライマリーペルソナ: 開発者本人（個人利用）
- 自分専用ツールとして利用（認証不要）
- ポッドキャスト配信に興味があり、テキストベースで音声コンテンツを作成したい
- 毎回マイクで収録する手間を省きたい
- ローカル環境でブラウザから操作する
- 典型的なワークフロー:
  1. 台本（テキスト）を準備する
  2. ブラウザでアプリを開き、台本を入力
  3. 登録済みの声とBGMを選択
  4. ポッドキャスト音声を生成・ダウンロード
  5. 配信プラットフォームにアップロード

## 成功指標（KPI）

### プライマリーKPI
- ポッドキャスト生成成功率: 95%以上（エラーなく最終mp3が出力される割合）
- 生成音声の主観品質: 自分が聴いて違和感なく配信に使えるレベル

### セカンダリーKPI
- 台本入力から音声ダウンロードまでの操作ステップ数: 5ステップ以内
- 声の登録完了までの操作ステップ数: 3ステップ以内

## 機能要件

### コア機能（MVP）

#### 1. 声の登録

**ユーザーストーリー**:
利用者として、自分の声をTTSのクローン元として登録するために、ブラウザ上で音声を録音して保存したい

**受け入れ条件**:
- [ ] ブラウザのマイクAPIを使用して音声を録音できる
- [ ] 録音した音声にラベル（名前）を付けて保存できる
- [ ] 保存した音声はローカルに永続化される
- [ ] 録音中の波形またはレベルメーターが表示される

**優先度**: P0（必須）

#### 2. 声の一覧・再生・削除

**ユーザーストーリー**:
利用者として、登録済みの声を管理するために、一覧表示・試聴・削除ができるようにしたい

**受け入れ条件**:
- [ ] 登録済みの声をラベルと録音日時とともに一覧表示できる
- [ ] 一覧から選択した声を再生（試聴）できる
- [ ] 一覧から選択した声を削除できる
- [ ] 削除時に確認ダイアログが表示される

**優先度**: P0（必須）

#### 3. 台本入力

**ユーザーストーリー**:
利用者として、ポッドキャストの原稿を入力するために、テキストエリアで台本を入力したい

**受け入れ条件**:
- [ ] 複数行のテキスト入力が可能なテキストエリアが表示される
- [ ] 入力した台本は一時的にブラウザに保持される（ページリロードで消えてよい）

**優先度**: P0（必須）

#### 4. 声の選択

**ユーザーストーリー**:
利用者として、ポッドキャスト生成に使う声を選ぶために、登録済みの声の一覧から選択したい

**受け入れ条件**:
- [ ] 登録済みの声がドロップダウンまたはリストで選択できる
- [ ] 選択した声を試聴できる

**優先度**: P0（必須）

#### 5. ポッドキャスト生成

**ユーザーストーリー**:
利用者として、台本と声からポッドキャスト音声を得るために、TTSによる音声合成を実行したい

**受け入れ条件**:
- [ ] 台本テキストと選択した声をqwen3-tts（Replicate API）に送信してTTS音声を取得する
- [ ] 生成中の進捗状態が画面に表示される
- [ ] 生成完了後、音声をブラウザ上でプレビュー再生できる
- [ ] エラー発生時に分かりやすいエラーメッセージが表示される

**優先度**: P0（必須）

#### 6. BGM合成

**ユーザーストーリー**:
利用者として、ポッドキャストにBGMを付けるために、TTS音声にBGMファイルを合成したい

**受け入れ条件**:
- [ ] BGM音声ファイル（mp3等）をアップロードできる
- [ ] TTS生成音声とBGMをffmpegで合成できる
- [ ] BGMの音量を調整できる（TTS音声が聞き取りやすいバランス）
- [ ] 合成後の音声をmp3形式でダウンロードできる

**優先度**: P0（必須）

### UIインターフェース

```
ブラウザ画面構成（想定）:

[声の管理]タブ
  - 録音ボタン / 停止ボタン
  - ラベル入力 → 保存ボタン
  - 登録済み声の一覧（再生・削除ボタン付き）

[ポッドキャスト作成]タブ
  - 台本テキストエリア
  - 声の選択ドロップダウン
  - BGMファイルアップロード
  - BGM音量スライダー
  - 生成ボタン
  - プレビュー再生プレイヤー
  - ダウンロードボタン
```

### 将来的な機能（Post-MVP）

#### 複数話者対応

台本内で複数の声を切り替えて対話形式のポッドキャストを作成する。

**優先度**: P2（できれば）

#### 台本テンプレート

よく使う構成（オープニング→本題→エンディング）をテンプレートとして保存・再利用する。

**優先度**: P2（できれば）

#### 生成履歴

過去に生成したポッドキャストの履歴を保存し、再ダウンロードや再生成ができる。

**優先度**: P2（できれば）

## 非機能要件

### パフォーマンス
- 声の録音開始: ボタン押下後1秒以内にマイク入力開始
- TTS生成: Replicate APIの応答時間に依存（UIで進捗表示を行う）
- BGM合成（ffmpeg）: 5分の音声に対して10秒以内

### ユーザビリティ
- 初回利用時、声の登録からポッドキャスト生成までの一連の操作が直感的に分かる
- エラー時に次にとるべきアクションが明示される

### 信頼性
- 登録した声データが意図せず消失しない（ローカルストレージまたはファイルシステムに永続化）
- TTS API呼び出し失敗時にリトライまたは明確なエラーメッセージを表示する

### セキュリティ
- Replicate APIキーをフロントエンドに露出させない（バックエンドサーバー経由でAPI呼び出し）
- ローカル環境専用のため、外部からのアクセス制御は不要

### スケーラビリティ
- 個人利用のため大規模スケーリングは不要
- 登録できる声の数: 10件程度を想定（上限は設けない）

## スコープ外

明示的にスコープ外とする項目:
- ユーザー認証・マルチユーザー対応
- クラウドホスティング・外部公開
- ポッドキャスト配信プラットフォームとの連携（RSSフィード生成など）
- リアルタイム音声変換（ボイスチェンジャー）
- 音声の文字起こし（Speech-to-Text）
